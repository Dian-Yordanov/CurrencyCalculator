<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
<script>
    function submitcurrencyFrom(selectObject) {
        var value = selectObject.value;
        console.log(value);

        let request = new XMLHttpRequest();
        request.open("POST", '/currencyDataInputURL/', true);
        request.send(value)

    }
    function submitCurrencyTo(selectObject) {
        var value = selectObject.value;
        console.log(value);

        let request = new XMLHttpRequest();
        request.open("GET", '/input', true);
        request.send(value);
        return request.responseText;

    }
</script>
</head>
<!-- Insert content into the layouts/layout.html -->
<th:block layout:fragment="content">

    <div class="grid-container">
    <div class="grid-item">

        <h4>Choose a currency and amount</h4>

    </div>
    <div class="grid-item">

        <h4>Currenct rates:</h4>

    </div>
    <div class="grid-item">

        <form action="#" th:action="@{/currencyDataInputURL}" th:object="${input}" method="post">
            <label for="currencyFrom"><span class="currencyText">From:           </span></label>
            <select name="currencyFrom" id="currencyFrom" onchange='document.forms[0].submit();' method="post" th:field="*{content}">
                <option value="Dollar">Dollar</option>
                <option value="Lev">Lev</option>
                <option value="Euro">Euro</option>
                <option value="JapaneseYen">Japanese Yen</option>
            </select>
            <input type="text" th:field="*{id}"/>
        </form>

        <br><br>

        <form action="#" th:action="@{/currencyDataInputURL}" th:object="${input}" method="post">
            <label for="currencyTo"><span class="currencyText">To:                </span></label>
            <select name="currencyTo" id="currencyTo" onchange='document.forms[1].submit();' method="post" th:field="*{content}">
                <option value="Dollar">Dollar</option>
                <option value="Lev">Lev</option>
                <option value="Euro">Euro</option>
                <option value="JapaneseYen">Japanese Yen</option>
            </select>
            <input type="text" th:field="*{id}"/>
        </form>

    </div>
    <div class="grid-item">

        <div class="inline-text">
            <p>1 </p>
            <p th:text="${currency1Selected}">1 lev to 2 dollars</p>
            <p>equals</p>
            <p th:text="${currency2}">1 lev to 2 dollars</p>
            <p th:text="${currency2Selected}">1 lev to 2 dollars</p>
        </div>

    </div>
    </div>

    <hr>

</th:block>

</html>
